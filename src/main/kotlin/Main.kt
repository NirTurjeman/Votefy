package votefy
import kotlinx.coroutines.runBlocking

fun main() = runBlocking {
//    val client = VotefyClient("http://localhost:3000")
//    var q = client.admin.getAllDefinitions()
//    q?.forEach {
//        println("Vote: ${it.title} , ${it.options}")
//    }
//    println("== יצירת הצבעה ==")
//    val created = client.admin.createVote(
//        title = "איזה יום היום?",
//        options = listOf("ראשון", "שני","שלישי",),
//        isActive = true
//    )
//    println("נוצר? $created")

    // נניח שיש לנו שאלה עם מזהה ידוע מראש (כמו מה־DB שלך)
//    val questionId = "eb983ada-70b7-434b-ac9e-b24fa65ef216" // החלף במזהה אמיתי אם יש
//
//    println("== שליחת הצבעה ==")
//    val voteSuccess = client.voter.vote(
//        VoteSubmission(
//            userId = "testUser1",
//            voteDefinitionId = questionId,
//            value = "ראשון",)
//    )
//    println("ההצבעה הצליחה? $voteSuccess")

//    println("== תוצאה עדכנית ==")
//    val result = client.admin.getResults(questionId)
//    println("תוצאה: ${result}")


//    println("== מי הצביע ==")
//    val voters = client.admin.showWhoVoted(questionId)
//    println("משתתפים: ${voters.joinToString(", ")}")

//    println("איזה הצבעה יש בשביל המשתמש")
//    val voteList = client.voter.checkForOpenVote("testUser32") as List<VoteDef>
//    voteList.forEach { vote ->
//        println("הצבעה זמינה: ${vote.title}")
//    }


}



